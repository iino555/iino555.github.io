"use strict";(self.webpackChunkiino555_github_io=self.webpackChunkiino555_github_io||[]).push([[1556],{7784:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>i,toc:()=>s});var t=o(4848),r=o(8453);const c={title:"vm.$root",description:"$root \u662f\u4e00\u4e2a\u53ea\u8bfb\u5c5e\u6027\uff0c\u5b83\u8868\u793a Vue \u5b9e\u4f8b\u6811\u7684\u6839\u5b9e\u4f8b\u3002",tags:["Vue2"]},l="$root",i={id:"vue2/part2/Vue2-$root",title:"vm.$root",description:"$root \u662f\u4e00\u4e2a\u53ea\u8bfb\u5c5e\u6027\uff0c\u5b83\u8868\u793a Vue \u5b9e\u4f8b\u6811\u7684\u6839\u5b9e\u4f8b\u3002",source:"@site/docs/vue2/part2/Vue2-$root.md",sourceDirName:"vue2/part2",slug:"/vue2/part2/Vue2-$root",permalink:"/docs/vue2/part2/Vue2-$root",draft:!1,unlisted:!1,tags:[{label:"Vue2",permalink:"/docs/tags/vue-2"}],version:"current",frontMatter:{title:"vm.$root",description:"$root \u662f\u4e00\u4e2a\u53ea\u8bfb\u5c5e\u6027\uff0c\u5b83\u8868\u793a Vue \u5b9e\u4f8b\u6811\u7684\u6839\u5b9e\u4f8b\u3002",tags:["Vue2"]},sidebar:"vue2Sidebar",previous:{title:"vm.$refs",permalink:"/docs/vue2/part2/Vue2-$refs"},next:{title:"vm.$scopedSlots",permalink:"/docs/vue2/part2/Vue2-$scopedSlots"}},d={},s=[{value:"1# \u5b9a\u4e49",id:"1-\u5b9a\u4e49",level:2},{value:"2# \u5173\u952e\u70b9",id:"2-\u5173\u952e\u70b9",level:2},{value:"(1) \u8bbf\u95ee\u5c5e\u6027",id:"1-\u8bbf\u95ee\u5c5e\u6027",level:3},{value:"(2) \u8bbf\u95ee\u65b9\u6cd5",id:"2-\u8bbf\u95ee\u65b9\u6cd5",level:3},{value:"(3) \u4f20\u9012\u6570\u636e",id:"3-\u4f20\u9012\u6570\u636e",level:3}];function a(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"root",children:"$root"}),"\n",(0,t.jsx)(e.h2,{id:"1-\u5b9a\u4e49",children:"1# \u5b9a\u4e49"}),"\n",(0,t.jsxs)(e.p,{children:["\u5728 Vue.js \u4e2d\uff0c",(0,t.jsx)(e.code,{children:"$root"})," \u662f Vue \u5b9e\u4f8b\u6811\u7684\u6839\u5b9e\u4f8b\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u8bbf\u95ee\u6839\u5b9e\u4f8b\u7684\u65b9\u5f0f\uff0c\u5373\u4f7f\u5728\u7ec4\u4ef6\u5d4c\u5957\u7684\u60c5\u51b5\u4e0b\u4e5f\u80fd\u591f\u65b9\u4fbf\u5730\u8bbf\u95ee\u6839\u5b9e\u4f8b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002"]}),"\n",(0,t.jsx)(e.h2,{id:"2-\u5173\u952e\u70b9",children:"2# \u5173\u952e\u70b9"}),"\n",(0,t.jsx)(e.h3,{id:"1-\u8bbf\u95ee\u5c5e\u6027",children:"(1) \u8bbf\u95ee\u5c5e\u6027"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'// \u6839\u5b9e\u4f8b\nnew Vue({\n  el: "#app",\n  data: {\n    msg: "Hello from Root Vue",\n  },\n  components: {\n    // \u5b50\u7ec4\u4ef6\n    "child-component": {\n      template: `\n      <div>\n        <p>$root.msg in Child Component: {{ $root.msg }}</p>\n        <grandchild-component></grandchild-component>\n      </div>\n      `,\n      components: {\n        // \u5b59\u5b50\u7ec4\u4ef6\n        "grandchild-component": {\n          template: `<p>$root.msg in Grandchild Component: {{ $root.msg }}</p>`,\n        },\n      },\n    },\n  },\n  template: `<child-component></child-component>`,\n});\n'})}),"\n",(0,t.jsx)(e.h3,{id:"2-\u8bbf\u95ee\u65b9\u6cd5",children:"(2) \u8bbf\u95ee\u65b9\u6cd5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'// \u6839\u5b9e\u4f8b\nnew Vue({\n  el: "#app",\n  data: {\n    msg: "Hello from Root Vue",\n  },\n  methods: {\n    log() {\n      console.log("this.msg=", this.msg);\n    },\n  },\n  components: {\n    // \u5b50\u7ec4\u4ef6\n    "child-component": {\n      template: `<grandchild-component></grandchild-component>`,\n      components: {\n        // \u5b59\u5b50\u7ec4\u4ef6\n        "grandchild-component": {\n          template: `<button @click="$root.log()">\u8c03\u7528 $root.log() </button>`,\n        },\n      },\n    },\n  },\n  template: `<child-component></child-component>`,\n});\n'})}),"\n",(0,t.jsx)(e.h3,{id:"3-\u4f20\u9012\u6570\u636e",children:"(3) \u4f20\u9012\u6570\u636e"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'// \u6839\u5b9e\u4f8b\nnew Vue({\n  el: "#app",\n  created() {\n    // \u7ed1\u5b9a\u4e8b\u4ef6: this.$root.$on(\'eventName\', data);\n    this.$root.$on("rootEvent", (data) => {\n      console.log("root component: data=", data);\n    });\n  },\n  components: {\n    // \u5b50\u7ec4\u4ef6\n    "child-component": {\n      template: `<grandchild-component></grandchild-component>`,\n      components: {\n        // \u5b59\u5b50\u7ec4\u4ef6\n        "grandchild-component": {\n          // \u89e6\u53d1\u4e8b\u4ef6\u5e76\u4f20\u53c2\uff1athis.$root.$emit(\'eventName\', data)\n          template: `<button @click="$root.$emit(\'rootEvent\', \'hello from grandchild\')">\u89e6\u53d1\u4e8b\u4ef6\uff1a$root.$emit() </button>`,\n        },\n      },\n    },\n  },\n  template: `<child-component></child-component>`,\n});\n'})})]})}function p(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(a,{...n})}):a(n)}},8453:(n,e,o)=>{o.d(e,{R:()=>l,x:()=>i});var t=o(6540);const r={},c=t.createContext(r);function l(n){const e=t.useContext(c);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),t.createElement(c.Provider,{value:e},n.children)}}}]);