"use strict";(self.webpackChunkiino555_github_io=self.webpackChunkiino555_github_io||[]).push([[1219],{4921:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>d,frontMatter:()=>c,metadata:()=>l,toc:()=>u});var s=t(4848),i=t(8453);const c={title:"Vue.nextTick",description:"\u8bed\u6cd5\uff1aVue.nextTick([callback: Function, context: Object])",tags:["Vue2"]},a="Vue.nextTick( [callback, context] )",l={id:"vue2/part1/Vue2-Vue.nextTick",title:"Vue.nextTick",description:"\u8bed\u6cd5\uff1aVue.nextTick([callback: Function, context: Object])",source:"@site/docs/vue2/part1/Vue2-Vue.nextTick.md",sourceDirName:"vue2/part1",slug:"/vue2/part1/Vue2-Vue.nextTick",permalink:"/docs/vue2/part1/Vue2-Vue.nextTick",draft:!1,unlisted:!1,tags:[{label:"Vue2",permalink:"/docs/tags/vue-2"}],version:"current",frontMatter:{title:"Vue.nextTick",description:"\u8bed\u6cd5\uff1aVue.nextTick([callback: Function, context: Object])",tags:["Vue2"]},sidebar:"vue2Sidebar",previous:{title:"Vue.mixin",permalink:"/docs/vue2/part1/Vue2-Vue.mixin"},next:{title:"Vue.observable",permalink:"/docs/vue2/part1/Vue2-Vue.observable"}},o={},u=[{value:"1# \u5b9a\u4e49",id:"1-\u5b9a\u4e49",level:2},{value:"2# \u793a\u4f8b",id:"2-\u793a\u4f8b",level:2},{value:"(1) Vue.nextTick()",id:"1-vuenexttick",level:3},{value:"(2) this.nextTick()",id:"2-thisnexttick",level:3},{value:"(3) this.$nextTick().then()",id:"3-thisnexttickthen",level:3},{value:"(4) await this.$nextTick()",id:"4-await-thisnexttick",level:3}];function r(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"vuenexttick-callback-context-",children:"Vue.nextTick( [callback, context] )"}),"\n",(0,s.jsx)(n.h2,{id:"1-\u5b9a\u4e49",children:"1# \u5b9a\u4e49"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u8bed\u6cd5"}),"\uff1a",(0,s.jsx)(n.code,{children:"Vue.nextTick([callback: Function, context: Object])"})]}),"\n",(0,s.jsx)(n.p,{children:"\u5728 Vue \u4e2d\uff0c\u66f4\u65b0 DOM \u662f\u5f02\u6b65\u6267\u884c\u7684\u3002\u5f53\u6570\u636e\u53d1\u751f\u53d8\u5316\u65f6\uff0c \u9996\u5148\u4f1a\u5c06\u6240\u6709\u53d8\u66f4\u7f13\u51b2\u5728\u540c\u4e00\u4e8b\u4ef6\u5faa\u73af\u4e2d\uff0c\u5e76\u53bb\u9664\u91cd\u590d\u64cd\u4f5c\uff0c\u4ee5\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u8ba1\u7b97\u548c DOM \u64cd\u4f5c\uff1b\u968f\u540e\uff0cVue \u4f1a\u5728\u4e0b\u4e00\u4e2a\u4e8b\u4ef6\u5faa\u73af\u4e2d\u5237\u65b0\u961f\u5217\u5e76\u6267\u884c\u5b9e\u9645\u64cd\u4f5c\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u5728 Vue \u5185\u90e8\u4f1a\u5148\u5c1d\u8bd5\u4f7f\u7528\u539f\u751f\u7684 ",(0,s.jsx)(n.code,{children:"Promise.then"}),"\u3001",(0,s.jsx)(n.code,{children:"MutationObserver"})," \u548c ",(0,s.jsx)(n.code,{children:"setImmediate"})," \u5904\u7406\u5f02\u6b65\u961f\u5217\uff0c\u5982\u679c\u4e0d\u652f\u6301\u8fd9\u4e9b\u65b9\u6cd5\uff0c\u5219\u4f1a\u56de\u9000\u5230\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"setTimeout(fn, 0)"}),"\u3002\u8fd9\u6837\u7684\u673a\u5236\u786e\u4fdd\u4e86 Vue \u5728\u5904\u7406\u5f02\u6b65\u66f4\u65b0\u65f6\u7684\u9ad8\u6548\u6027\u548c\u6027\u80fd\u4f18\u5316\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u4e3a\u4e86\u5728\u6570\u636e\u53d8\u5316\u540e\u7b49\u5f85 Vue \u5b8c\u6210\u66f4\u65b0 DOM\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"nextTick"})," \u51fd\u6570\uff0c\u786e\u4fdd\u5728\u64cd\u4f5c DOM \u4e4b\u524d\u83b7\u53d6\u5230\u6700\u65b0\u7684\u72b6\u6001\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"2-\u793a\u4f8b",children:"2# \u793a\u4f8b"}),"\n",(0,s.jsx)(n.h3,{id:"1-vuenexttick",children:"(1) Vue.nextTick()"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'var vm = new Vue({\n  el: "#app",\n  data: {\n    message: "old message",\n  },\n  template: `<div>{{ message }}</div>`,\n});\n\n// \u4e24\u79d2\u540e\u66f4\u6539\u6570\u636e\nsetTimeout(() => {\n  vm.message = "new message"; // \u66f4\u6539\u6570\u636e\n  console.log(vm.$el.textContent === "new message"); // false\n  Vue.nextTick(function () { // \u7bad\u5934\u51fd\u6570 or \u533f\u540d\u51fd\u6570\u7686\u53ef\n    console.log(vm.$el.textContent === "new message"); // true\n  });\n}, 2000);\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-thisnexttick",children:"(2) this.nextTick()"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'new Vue({\n  el: "#app",\n  data: {\n    message: "old message",\n  },\n  template: `<div>{{ message }}</div>`,\n  mounted() {\n    // \u4e24\u79d2\u540e\u66f4\u6539\u6570\u636e\n    setTimeout(() => {\n      this.message = "new message"; // \u66f4\u6539\u6570\u636e\n      console.log(this.$el.textContent === "new message"); // false\n      this.$nextTick(() => { // \u7bad\u5934\u51fd\u6570 or \u533f\u540d\u51fd\u6570\u7686\u53ef\n        console.log(this.$el.textContent === "new message"); // true\n      });\n    }, 2000);\n  },\n});\n'})}),"\n",(0,s.jsx)(n.h3,{id:"3-thisnexttickthen",children:"(3) this.$nextTick().then()"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'new Vue({\n  el: "#app",\n  data: {\n    message: "old message",\n  },\n  template: `<div>{{ message }}</div>`,\n  mounted() {\n    // \u4e24\u79d2\u540e\u66f4\u6539\u6570\u636e\n    setTimeout(() => {\n      this.message = "new message"; // \u66f4\u6539\u6570\u636e\n      console.log(this.$el.textContent === "new message"); // false\n      this.$nextTick().then(() => { // \u7bad\u5934\u51fd\u6570 or \u533f\u540d\u51fd\u6570\u7686\u53ef\n        console.log(this.$el.textContent === "new message"); // true\n      });\n    }, 2000);\n  },\n});\n'})}),"\n",(0,s.jsx)(n.h3,{id:"4-await-thisnexttick",children:"(4) await this.$nextTick()"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'new Vue({\n  el: "#app",\n  data: {\n    message: "old message",\n  },\n  template: `<div>{{ message }}</div>`,\n  mounted() {\n    // \u4e24\u79d2\u540e\u66f4\u6539\u6570\u636e\n    setTimeout(async () => {\n      this.message = "new message"; // \u66f4\u6539\u6570\u636e\n      console.log(this.$el.textContent === "new message"); // false\n      await this.$nextTick(); // \u7b49\u5f85\u6570\u636e\u66f4\u65b0\n      console.log(this.$el.textContent === "new message"); // true\n    }, 2000);\n  },\n});\n'})})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var s=t(6540);const i={},c=s.createContext(i);function a(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);